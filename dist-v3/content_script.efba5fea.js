!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire2f33;function i(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)}))}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function l(e){if(Array.isArray(e))return e}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function v(e,t){return l(e)||u(e)||p(e,t)||f()}null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire2f33=o),o.register("450wW",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("fvmlh",(function(e,t){e.exports=o("jnSXm").getBundleURL("fRw3n")+o("450wW").resolve("11Z5m")})),o.register("jnSXm",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),o[e]=t),t}})),o.register("jOY9p",(function(e,t){e.exports=o("jnSXm").getBundleURL("fRw3n")+o("450wW").resolve("jRQnO")})),o("450wW").register(JSON.parse('{"fRw3n":"content_script.efba5fea.js","11Z5m":"textAreaOverlay.047801a6.png","jRQnO":"textAreaOverlayHovered.cb8904ec.png"}'));function b(e,t){var n,r,o,i,a=function(e){return function(t){return s([e,t])}},s=function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}},c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i}Object.create;Object.create;var h="undefined"==typeof browser?chrome.storage:browser.storage,m=new WeakMap;function y(e){var t=m.get(e);void 0!==t&&(e.removeEventListener("keydown",t,!0),m.delete(e))}function g(e){return{"aria-description":e.getAttribute("aria-description"),spellcheck:e.getAttribute("spellcheck")}}var w=new Map;function k(e,t){if(e.removeEventListener("click",E),e.removeEventListener("keydown",x),t){h.sync.set({welcomeMessageDismissed:!0})}e.classList.remove("stack-overflow-indentation-plus-plus-welcome-overlay"),function(e){var t=w.get(e);t?(null===t["aria-description"]?e.removeAttribute("aria-description"):e.setAttribute("aria-description",t["aria-description"]),null===t.spellcheck?e.removeAttribute("spellcheck"):e.setAttribute("spellcheck",t.spellcheck)):console.warn("Tried to remove initial attributes from text area, but textarea not found in map")}(e)}function x(e){k(this,!0),this.removeEventListener("click",E)}function E(e){k(this,!0),this.removeEventListener("keydown",x)}document.querySelectorAll("textarea").forEach((function(e){w.set(e,g(e))}));var O=new MutationObserver((function(e){e.forEach((function(e){var t=e.target;if(function(e){return e.nodeType===Node.ELEMENT_NODE}(t)){var n=Array.from(t.querySelectorAll("textarea"));n.forEach((function(e){"comment"===e.name||"Use comments to ask for clarification or add more information. Avoid answering questions in comments."===e.placeholder||e.closest("comment-form")||w.set(e,g(e))})),n.length>0&&A(_)}}))}));function A(e){var t;t={type:"set_active",text:e.functionalityDisabled?"off":"on"},"undefined"==typeof browser?chrome.runtime.sendMessage(t):browser.runtime.sendMessage(t),w.forEach((function(t,n){var r;e.functionalityDisabled?(y(n),k(n,!1),n.classList.remove("stack-exchange-indendation-plus-plus-bordered")):(e.welcomeMessageDismissed?k(n,!1):(n.classList.add("stack-overflow-indentation-plus-plus-welcome-overlay"),n.spellcheck=!1,n.setAttribute("aria-description","Textarea with an overlay welcome message from the Stack Overflow ++ extension. Any keyboard or mouse interaction will permanently dismiss this overlay. Overlay contains an image with text that welcomes you to the extension, instructs you that tabbing will indent one or more lines and shift-tabbing will de-indent, and notes that you can use the extension's toolbar action to change various settings (such as the number of spaces per tab). Interact to dismiss, and I hope you enjoy the extension!"),n.addEventListener("click",E,{once:!0}),n.addEventListener("keydown",x,{once:!0})),null===(r=e.textAreaBorderEnabled)||void 0===r||r?n.classList.add("stack-exchange-indendation-plus-plus-bordered"):n.classList.remove("stack-exchange-indendation-plus-plus-bordered"),function(e){y(e);var t,n=(t=(null==_?void 0:_.numberOfSpacesPerTab)||4,function(e){var n,r,o,i,a=" ".repeat(t),s=0;"Tab"===e.key&&(e.stopPropagation(),e.preventDefault(),r=this.selectionStart,o=this.selectionEnd,n=this.value.substring(r,o),i=this.value,~n.indexOf("\n")?(e.shiftKey?(n=n.split("\n").map((function(e){return e.substr(0,a.length)==a?e.substr(4):e})).join("\n"),this.value=i.substr(0,r)+n+i.substr(o)):(n=n.split("\n").map((function(e){return a+e})).join("\n"),this.value=i.substr(0,r)+n+i.substr(o)),this.selectionStart=r,this.selectionEnd=r+n.length):(e.shiftKey?i.substr(r-a.length,a.length)==a&&(this.value=i.substr(0,r-a.length)+i.substr(o),s=-a.length):(this.value=i.substr(0,r)+a+i.substr(o),s=a.length),this.selectionStart=this.selectionEnd=r+s))});m.set(e,n),e.addEventListener("keydown",n,!0)}(n))}))}var j,S,L=function(e){return"undefined"==typeof browser?e:browser.runtime.getURL(e)},R=L(o("fvmlh")),T=L(o("jOY9p"));j="\n  textarea.stack-overflow-indentation-plus-plus-welcome-overlay, textarea.stack-overflow-indentation-plus-plus-welcome-overlay:focus {\n    background-image: url(".concat(R,"), linear-gradient(to right, #a8c0ff, #3f2b96), url(").concat(T,");\n    color: transparent;\n    background-repeat:no-repeat;\n    background-position: center center;\n    cursor: pointer;\n  }\n  \n  textarea.stack-overflow-indentation-plus-plus-welcome-overlay:hover {\n    background-image: url(").concat(T,"), linear-gradient(to right, #a8c0ff, #3f2b96);\n  } \n"),(S=document.createElement("style")).textContent=j,document.head.append(S);var _={};function M(){return(M=a((function(){var e;return b(this,(function(t){switch(t.label){case 0:return[4,h.sync.get()];case 1:return e=t.sent(),A(_=e),h.onChanged.addListener((function(e,t){if("sync"===t){var n={},r=!0,o=!1,i=void 0;try{for(var a,s=Object.entries(e)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=v(a.value,2),u=l[0],f=l[1];n[u]=f.newValue}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}A(_=c({},_,n))}})),O.observe(document.body,{childList:!0,subtree:!0}),[2]}}))}))).apply(this,arguments)}!function(){M.apply(this,arguments)}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZXMiOlsibm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9zcmMvX2FzeW5jX3RvX2dlbmVyYXRvci5tanMiLCJub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fZGVmaW5lX3Byb3BlcnR5Lm1qcyIsIm5vZGVfbW9kdWxlcy9Ac3djL2hlbHBlcnMvc3JjL19vYmplY3Rfc3ByZWFkLm1qcyIsIm5vZGVfbW9kdWxlcy9Ac3djL2hlbHBlcnMvc3JjL19hcnJheV93aXRoX2hvbGVzLm1qcyIsIm5vZGVfbW9kdWxlcy9Ac3djL2hlbHBlcnMvc3JjL19pdGVyYWJsZV90b19hcnJheS5tanMiLCJub2RlX21vZHVsZXMvQHN3Yy9oZWxwZXJzL3NyYy9fbm9uX2l0ZXJhYmxlX3Jlc3QubWpzIiwibm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9zcmMvX2FycmF5X2xpa2VfdG9fYXJyYXkubWpzIiwibm9kZV9tb2R1bGVzL0Bzd2MvaGVscGVycy9zcmMvX3Vuc3VwcG9ydGVkX2l0ZXJhYmxlX3RvX2FycmF5Lm1qcyIsIm5vZGVfbW9kdWxlcy9Ac3djL2hlbHBlcnMvc3JjL19zbGljZWRfdG9fYXJyYXkubWpzIiwibm9kZV9tb2R1bGVzL0BwYXJjZWwvcnVudGltZS1qcy9saWIvaGVscGVycy9idW5kbGUtbWFuaWZlc3QuanMiLCJub2RlX21vZHVsZXMvQHBhcmNlbC9ydW50aW1lLWpzL2xpYi9ydW50aW1lLWMyODExYWI0NTY0OWM2ZjcuanMiLCJub2RlX21vZHVsZXMvQHBhcmNlbC9ydW50aW1lLWpzL2xpYi9oZWxwZXJzL2J1bmRsZS11cmwuanMiLCJub2RlX21vZHVsZXMvQHBhcmNlbC9ydW50aW1lLWpzL2xpYi9ydW50aW1lLTM0ZjYzYzYzNTBlMjQ3NmMuanMiLCJub2RlX21vZHVsZXMvQHBhcmNlbC9ydW50aW1lLWpzL2xpYi9ydW50aW1lLWU1MjAyZjU5OWU1MDgyZjcuanMiLCJub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwic3JjL3YyLXYzLWFic3RyYWN0aW9ucy50cyIsInNyYy9jb250ZW50X3NjcmlwdC50cyIsInNyYy9SdW50aW1lTWVzc2FnZS50cyIsInNyYy90ZXh0YXJlYURldi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7XG4gIHRyeSB7XG4gICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaW5mby5kb25lKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cbiIsImltcG9ydCBkZWZpbmVQcm9wZXJ0eSBmcm9tICcuL19kZWZpbmVfcHJvcGVydHkubWpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gIHJldHVybiBhcnIyO1xufVxuIiwiaW1wb3J0IF9hcnJheUxpa2VUb0FycmF5IGZyb20gJy4vX2FycmF5X2xpa2VfdG9fYXJyYXkubWpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShuKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpXG4gICAgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG4iLCJpbXBvcnQgYXJyYXlXaXRoSG9sZXMgZnJvbSAnLi9fYXJyYXlfd2l0aF9ob2xlcy5tanMnO1xuaW1wb3J0IGl0ZXJhYmxlVG9BcnJheUxpbWl0IGZyb20gJy4vX2l0ZXJhYmxlX3RvX2FycmF5Lm1qcyc7XG5pbXBvcnQgbm9uSXRlcmFibGVSZXN0IGZyb20gJy4vX25vbl9pdGVyYWJsZV9yZXN0Lm1qcyc7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSAnLi9fdW5zdXBwb3J0ZWRfaXRlcmFibGVfdG9fYXJyYXkubWpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWFwcGluZyA9IHt9O1xuXG5mdW5jdGlvbiByZWdpc3RlcihwYWlycykge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHBhaXJzKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBtYXBwaW5nW2tleXNbaV1dID0gcGFpcnNba2V5c1tpXV07XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShpZCkge1xuICB2YXIgcmVzb2x2ZWQgPSBtYXBwaW5nW2lkXTtcblxuICBpZiAocmVzb2x2ZWQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IHJlc29sdmUgYnVuZGxlIHdpdGggaWQgJyArIGlkKTtcbiAgfVxuXG4gIHJldHVybiByZXNvbHZlZDtcbn1cblxubW9kdWxlLmV4cG9ydHMucmVnaXN0ZXIgPSByZWdpc3Rlcjtcbm1vZHVsZS5leHBvcnRzLnJlc29sdmUgPSByZXNvbHZlOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9oZWxwZXJzL2J1bmRsZS11cmwnKS5nZXRCdW5kbGVVUkwoJ2ZSdzNuJykgKyByZXF1aXJlKCcuL2hlbHBlcnMvYnVuZGxlLW1hbmlmZXN0JykucmVzb2x2ZShcIjExWjVtXCIpOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgYnVuZGxlVVJMID0ge307XG5cbmZ1bmN0aW9uIGdldEJ1bmRsZVVSTENhY2hlZChpZCkge1xuICB2YXIgdmFsdWUgPSBidW5kbGVVUkxbaWRdO1xuXG4gIGlmICghdmFsdWUpIHtcbiAgICB2YWx1ZSA9IGdldEJ1bmRsZVVSTCgpO1xuICAgIGJ1bmRsZVVSTFtpZF0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0QnVuZGxlVVJMKCkge1xuICB0cnkge1xuICAgIHRocm93IG5ldyBFcnJvcigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICB2YXIgbWF0Y2hlcyA9ICgnJyArIGVyci5zdGFjaykubWF0Y2goLyhodHRwcz98ZmlsZXxmdHB8KGNocm9tZXxtb3p8c2FmYXJpLXdlYiktZXh0ZW5zaW9uKTpcXC9cXC9bXilcXG5dKy9nKTtcblxuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAvLyBUaGUgZmlyc3QgdHdvIHN0YWNrIGZyYW1lcyB3aWxsIGJlIHRoaXMgZnVuY3Rpb24gYW5kIGdldEJ1bmRsZVVSTENhY2hlZC5cbiAgICAgIC8vIFVzZSB0aGUgM3JkIG9uZSwgd2hpY2ggd2lsbCBiZSBhIHJ1bnRpbWUgaW4gdGhlIG9yaWdpbmFsIGJ1bmRsZS5cbiAgICAgIHJldHVybiBnZXRCYXNlVVJMKG1hdGNoZXNbMl0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAnLyc7XG59XG5cbmZ1bmN0aW9uIGdldEJhc2VVUkwodXJsKSB7XG4gIHJldHVybiAoJycgKyB1cmwpLnJlcGxhY2UoL14oKD86aHR0cHM/fGZpbGV8ZnRwfChjaHJvbWV8bW96fHNhZmFyaS13ZWIpLWV4dGVuc2lvbik6XFwvXFwvLispXFwvW14vXSskLywgJyQxJykgKyAnLyc7XG59IC8vIFRPRE86IFJlcGxhY2UgdXNlcyB3aXRoIGBuZXcgVVJMKHVybCkub3JpZ2luYCB3aGVuIGllMTEgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5cblxuXG5mdW5jdGlvbiBnZXRPcmlnaW4odXJsKSB7XG4gIHZhciBtYXRjaGVzID0gKCcnICsgdXJsKS5tYXRjaCgvKGh0dHBzP3xmaWxlfGZ0cHwoY2hyb21lfG1venxzYWZhcmktd2ViKS1leHRlbnNpb24pOlxcL1xcL1teL10rLyk7XG5cbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdPcmlnaW4gbm90IGZvdW5kJyk7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlc1swXTtcbn1cblxuZXhwb3J0cy5nZXRCdW5kbGVVUkwgPSBnZXRCdW5kbGVVUkxDYWNoZWQ7XG5leHBvcnRzLmdldEJhc2VVUkwgPSBnZXRCYXNlVVJMO1xuZXhwb3J0cy5nZXRPcmlnaW4gPSBnZXRPcmlnaW47IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2hlbHBlcnMvYnVuZGxlLXVybCcpLmdldEJ1bmRsZVVSTCgnZlJ3M24nKSArIHJlcXVpcmUoJy4vaGVscGVycy9idW5kbGUtbWFuaWZlc3QnKS5yZXNvbHZlKFwialJRbk9cIik7IiwicmVxdWlyZSgnLi9oZWxwZXJzL2J1bmRsZS1tYW5pZmVzdCcpLnJlZ2lzdGVyKEpTT04ucGFyc2UoXCJ7XFxcImZSdzNuXFxcIjpcXFwiY29udGVudF9zY3JpcHQuSEFTSF9SRUZfYjhjNGFiNjk1MDgyMmZlZC5qc1xcXCIsXFxcIjExWjVtXFxcIjpcXFwidGV4dEFyZWFPdmVybGF5LkhBU0hfUkVGXzBjMDU0NGMyNmUzNTc0MGYucG5nXFxcIixcXFwialJRbk9cXFwiOlxcXCJ0ZXh0QXJlYU92ZXJsYXlIb3ZlcmVkLkhBU0hfUkVGX2U3NmI5OWJkNjFjZjVmMTAucG5nXFxcIn1cIikpOyIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsIlxuLyoqXG4gKiB3ZWJleHRlbnNpb24tcG9seWZpbGwgZG9lc24ndCB3b3JrIGZvciBtYW5pZmVzdCB2Mywgc28gd2UgcHJveHkgdG8gdGhlIHVuZGVybHlpbmcgXCJicm93c2VyXCIgb3IgXCJjaHJvbWVcIiBvYmplY3RzXG4gKiBcbiAqIGNocm9tZS5zdG9yYWdlIHNlZW1zIGxpa2UgYSBzdXBlcnNldCBvZiBicm93c2VyIHN0b3JhZ2UsIHRob3VnaCBpdCdzIGRlZmluaXRlbHkgcG9zc2libGUgdGhleSBoYXZlIGRpZmZlcmVudCBzZW1hbnRpY3NcbiAqL1xuZXhwb3J0IGNvbnN0IGNvbXBhdGlibGVTdG9yYWdlOiB0eXBlb2YgYnJvd3Nlci5zdG9yYWdlID0gKHR5cGVvZiBicm93c2VyID09PSBcInVuZGVmaW5lZFwiKSA/IGNocm9tZS5zdG9yYWdlIDogYnJvd3Nlci5zdG9yYWdlXG4iLCJpbXBvcnQgeyBzZW5kVHlwZWRNZXNzYWdlIH0gZnJvbSBcIi4vUnVudGltZU1lc3NhZ2VcIjtcbmltcG9ydCBTdG9yYWdlTW9kYWwgZnJvbSBcIi4vU3RvcmFnZU1vZGFsXCI7XG5pbXBvcnQgdGV4dGFyZWFEZXYgZnJvbSBcIi4vdGV4dGFyZWFEZXZcIjtcblxuaW1wb3J0IHsgY29tcGF0aWJsZVN0b3JhZ2UgYXMgc3RvcmFnZSB9IGZyb20gXCIuL3YyLXYzLWFic3RyYWN0aW9uc1wiO1xuXG5jb25zdCBjdXJyZW50bHlFbnJpY2hlZDogV2Vha01hcDxIVE1MVGV4dEFyZWFFbGVtZW50LCAodGhpczogSFRNTFRleHRBcmVhRWxlbWVudCwgZTogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZD4gPSBuZXcgV2Vha01hcCgpXG5cbmZ1bmN0aW9uIGVucmljaFdpdGhJbmRlbnRhdGlvbih0ZXh0QXJlYTogSFRNTFRleHRBcmVhRWxlbWVudCkge1xuXG4gICAgLy8gcmVtb3ZlIGFueSBwYXN0IGVucmljaG1lbnRcbiAgICByZW1vdmVJbmRlbnRhdGlvbkVucmljaG1lbnQodGV4dEFyZWEpXG5cbiAgICBjb25zdCBsaXN0ZW5lciA9IHRleHRhcmVhRGV2KHN0b3JhZ2VTdGF0ZT8ubnVtYmVyT2ZTcGFjZXNQZXJUYWIgfHwgNClcbiAgICBjdXJyZW50bHlFbnJpY2hlZC5zZXQodGV4dEFyZWEsIGxpc3RlbmVyKVxuXG4gICAgdGV4dEFyZWEuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgbGlzdGVuZXIsIHRydWUpXG59XG5cbmZ1bmN0aW9uIHJlbW92ZUluZGVudGF0aW9uRW5yaWNobWVudCh0ZXh0QXJlYTogSFRNTFRleHRBcmVhRWxlbWVudCkge1xuICAgIFxuICAgIGNvbnN0IHByZXhpc3RpbmdMaXN0ZW5lciA9IGN1cnJlbnRseUVucmljaGVkLmdldCh0ZXh0QXJlYSlcblxuICAgIGlmKHByZXhpc3RpbmdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRleHRBcmVhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHByZXhpc3RpbmdMaXN0ZW5lciwgdHJ1ZSlcbiAgICAgICAgY3VycmVudGx5RW5yaWNoZWQuZGVsZXRlKHRleHRBcmVhKVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9kZUlzRWxlbWVudChub2RlOiBOb2RlKTogbm9kZSBpcyBFbGVtZW50IHtcbiAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREVcbn1cblxuLyoqXG4gKiBSZXN0b3JlIHRoZSBpbml0aWFsIGF0dHJpYnV0ZXMgdG8gYSBUZXh0QXJlYSBhZnRlciB3ZSByZW1vdmUgdGhlIG92ZXJsYXlcbiAqL1xuZnVuY3Rpb24gcmVzdG9yZUluaXRpYWxBdHRyaWJ1dGVzKHRleHRBcmVhOiBIVE1MVGV4dEFyZWFFbGVtZW50KSB7XG5cbiAgICBjb25zdCBpbml0aWFsQXR0cmlidXRlcyA9IHRleHRBcmVhcy5nZXQodGV4dEFyZWEpXG5cbiAgICBpZighaW5pdGlhbEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVHJpZWQgdG8gcmVtb3ZlIGluaXRpYWwgYXR0cmlidXRlcyBmcm9tIHRleHQgYXJlYSwgYnV0IHRleHRhcmVhIG5vdCBmb3VuZCBpbiBtYXBcIilcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYoaW5pdGlhbEF0dHJpYnV0ZXNbXCJhcmlhLWRlc2NyaXB0aW9uXCJdID09PSBudWxsKSB7XG4gICAgICAgIHRleHRBcmVhLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGVzY3JpcHRpb25cIilcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRlc2NyaXB0aW9uXCIsIGluaXRpYWxBdHRyaWJ1dGVzW1wiYXJpYS1kZXNjcmlwdGlvblwiXSlcbiAgICB9XG5cbiAgICBpZihpbml0aWFsQXR0cmlidXRlcy5zcGVsbGNoZWNrID09PSBudWxsKSB7XG4gICAgICAgIHRleHRBcmVhLnJlbW92ZUF0dHJpYnV0ZShcInNwZWxsY2hlY2tcIilcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsIGluaXRpYWxBdHRyaWJ1dGVzLnNwZWxsY2hlY2spXG4gICAgfVxufVxuXG4vKipcbiAqIENhcHR1cmUgdGhlIGluaXRpYWwgKHJlbGV2YW50KSBhdHRyYml1dGVzIGZyb20gYSB0ZXh0IGFyZWEgYmVmb3JlIHdlIGFwcGx5IHRoZSBvdmVybGF5XG4gKi9cbmZ1bmN0aW9uIGdldEluaXRpYWxBdHRyaWJ1dGVzKHRleHRBcmVhOiBIVE1MVGV4dEFyZWFFbGVtZW50KTogSW5pdGFsVGV4dEFyZWFBdHRyaWJ1dGVzIHtcbiAgICBcbiAgICBjb25zdCBleGlzdGluZ0FyaWFEZXNjcmlwdGlvbiA9IHRleHRBcmVhLmdldEF0dHJpYnV0ZShcImFyaWEtZGVzY3JpcHRpb25cIilcbiAgICBjb25zdCBleGlzdGluZ1NwZWxsY2hlY2sgPSB0ZXh0QXJlYS5nZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIpXG5cbiAgICByZXR1cm4ge1wiYXJpYS1kZXNjcmlwdGlvblwiOiBleGlzdGluZ0FyaWFEZXNjcmlwdGlvbiwgc3BlbGxjaGVjazogZXhpc3RpbmdTcGVsbGNoZWNrfVxufVxuXG5pbnRlcmZhY2UgSW5pdGFsVGV4dEFyZWFBdHRyaWJ1dGVzIHtcbiAgICBcImFyaWEtZGVzY3JpcHRpb25cIjogc3RyaW5nIHwgbnVsbFxuICAgIHNwZWxsY2hlY2s6IHN0cmluZyB8IG51bGxcbn1cblxuY29uc3QgdGV4dEFyZWFzOiBNYXA8SFRNTFRleHRBcmVhRWxlbWVudCwgSW5pdGFsVGV4dEFyZWFBdHRyaWJ1dGVzPiA9IG5ldyBNYXAoKVxuXG4vLyBJbml0aWFsaXplIGFsbCB0aGUgdGV4dCBhcmVhcyB3ZSBzZWUgYWZ0ZXIgbG9hZFxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInRleHRhcmVhXCIpLmZvckVhY2gocHJlZXhpc3RpbmdUZXh0QXJlYSA9PiB7XG4gICAgdGV4dEFyZWFzLnNldChwcmVleGlzdGluZ1RleHRBcmVhLCBnZXRJbml0aWFsQXR0cmlidXRlcyhwcmVleGlzdGluZ1RleHRBcmVhKSlcbn0pXG5cbmZ1bmN0aW9uIHJlbW92ZU92ZXJsYXkodGV4dEFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQsIHJlbW92ZVBlcm1lbmFudGx5OiBib29sZWFuKSB7XG5cbiAgICB0ZXh0QXJlYS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlT3ZlcmxheUNsaWNrKVxuICAgIHRleHRBcmVhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZU92ZXJsYXlLZXlEb3duKVxuXG4gICAgaWYocmVtb3ZlUGVybWVuYW50bHkpIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHN0YXRlVXBkYXRlOiBQYXJ0aWFsPFN0b3JhZ2VNb2RhbD4gPSB7XG4gICAgICAgICAgICB3ZWxjb21lTWVzc2FnZURpc21pc3NlZDogdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmFnZS5zeW5jLnNldChzdGF0ZVVwZGF0ZSlcbiAgICB9XG5cbiAgICB0ZXh0QXJlYS5jbGFzc0xpc3QucmVtb3ZlKFwic3RhY2stb3ZlcmZsb3ctaW5kZW50YXRpb24tcGx1cy1wbHVzLXdlbGNvbWUtb3ZlcmxheVwiKVxuICAgIHJlc3RvcmVJbml0aWFsQXR0cmlidXRlcyh0ZXh0QXJlYSlcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3ZlcmxheUtleURvd24odGhpczogSFRNTFRleHRBcmVhRWxlbWVudCwgZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICByZW1vdmVPdmVybGF5KHRoaXMsIHRydWUpXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlT3ZlcmxheUNsaWNrKVxufVxuXG5mdW5jdGlvbiBoYW5kbGVPdmVybGF5Q2xpY2sodGhpczogSFRNTFRleHRBcmVhRWxlbWVudCwgZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICByZW1vdmVPdmVybGF5KHRoaXMsIHRydWUpXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVPdmVybGF5S2V5RG93bilcbn1cblxudmFyIGRvbU9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuXG4gICAgbXV0YXRpb25zLmZvckVhY2goIG11dGF0aW9uID0+IHtcblxuICAgICAgICBjb25zdCBub2RlID0gbXV0YXRpb24udGFyZ2V0XG5cbiAgICAgICAgaWYobm9kZUlzRWxlbWVudChub2RlKSkge1xuICAgICAgICAgICAgY29uc3QgbmV3VGV4dEVsZW1lbnRzID0gQXJyYXkuZnJvbShub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZXh0YXJlYVwiKSk7XG5cbiAgICAgICAgICAgIG5ld1RleHRFbGVtZW50cy5mb3JFYWNoKG5ld1RleHRBcmVhID0+IHtcblxuICAgICAgICAgICAgICAgIC8vIGJsYWNrbGlzdCBjb21tZW50cywgZm9yIG5vdy4gV2UgbWF5IHdhbnQgdG8gd2hpdGVsaXN0IG90aGVyIHN0dWZmIGluc3RlYWQsIGxhdGVyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNDb21tZW50ID1cbiAgICAgICAgICAgICAgICAgICAgbmV3VGV4dEFyZWEubmFtZSA9PT0gXCJjb21tZW50XCJcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3VGV4dEFyZWEucGxhY2Vob2xkZXIgPT09IFwiVXNlIGNvbW1lbnRzIHRvIGFzayBmb3IgY2xhcmlmaWNhdGlvbiBvciBhZGQgbW9yZSBpbmZvcm1hdGlvbi4gQXZvaWQgYW5zd2VyaW5nIHF1ZXN0aW9ucyBpbiBjb21tZW50cy5cIlxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdUZXh0QXJlYS5jbG9zZXN0KFwiY29tbWVudC1mb3JtXCIpXG5cbiAgICAgICAgICAgICAgICBpZighaXNDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRBcmVhcy5zZXQobmV3VGV4dEFyZWEsIGdldEluaXRpYWxBdHRyaWJ1dGVzKG5ld1RleHRBcmVhKSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGlmKG5ld1RleHRFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlEb21Nb2RpZmljYXRpb25zKHN0b3JhZ2VTdGF0ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbmZ1bmN0aW9uIGFwcGx5RG9tTW9kaWZpY2F0aW9ucyhleGlzdGluZ1N0YXRlOiBTdG9yYWdlTW9kYWwpIHtcblxuICAgIC8vIHRlbGwgdGhlIGJhY2tncm91bmQgcnVubmVyIHRoYXQgd2UncmUgYWN0aXZlLCBzbyBpdCBjYW4gY2hhbmdlIHRoZSBiYWRnZSB0ZXh0XG4gICAgc2VuZFR5cGVkTWVzc2FnZSh7dHlwZTogXCJzZXRfYWN0aXZlXCIsIHRleHQ6IGV4aXN0aW5nU3RhdGUuZnVuY3Rpb25hbGl0eURpc2FibGVkID8gXCJvZmZcIiA6IFwib25cIn0pXG5cbiAgICB0ZXh0QXJlYXMuZm9yRWFjaCgoaW5pdGlhbEF0dHJpYnV0ZXMsIHRleHRBcmVhKSA9PiB7XG5cblxuICAgICAgICBpZihleGlzdGluZ1N0YXRlLmZ1bmN0aW9uYWxpdHlEaXNhYmxlZCkge1xuICAgICAgICAgICAgcmVtb3ZlSW5kZW50YXRpb25FbnJpY2htZW50KHRleHRBcmVhKVxuICAgICAgICAgICAgcmVtb3ZlT3ZlcmxheSh0ZXh0QXJlYSwgZmFsc2UpXG4gICAgICAgICAgICB0ZXh0QXJlYS5jbGFzc0xpc3QucmVtb3ZlKFwic3RhY2stZXhjaGFuZ2UtaW5kZW5kYXRpb24tcGx1cy1wbHVzLWJvcmRlcmVkXCIpXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIC8vIG5vdCBkaXNhYmxlZCwgc28gd2UgYXBwbHkgYWxsIG91ciBtb2RpZmljYXRpb24gYmFzZWQgb24gb3RoZXIgc2V0dGluZ3NcblxuICAgICAgICAgICAgaWYoZXhpc3RpbmdTdGF0ZS53ZWxjb21lTWVzc2FnZURpc21pc3NlZCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZU92ZXJsYXkodGV4dEFyZWEsIGZhbHNlKVxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gZmlyc3QgdGltZSBhZnRlciBpbnN0YWxsXG5cbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5jbGFzc0xpc3QuYWRkKFwic3RhY2stb3ZlcmZsb3ctaW5kZW50YXRpb24tcGx1cy1wbHVzLXdlbGNvbWUtb3ZlcmxheVwiKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIHN0b3JlIHZhcmlvdXMgc2V0dGluZ3MsIHNwZWxsY2hlY2sgYW5kIGFyaWEgXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuc3BlbGxjaGVjayA9IGZhbHNlXG5cbiAgICAgICAgICAgICAgICAvLyBNaWdodCBub3QgYmUgbmVlZGVkLCBhcyB0aGUgYmFja2dyb3VuZCB3b3VsZCBsaWtlbHkgYmUgaWdub3JlZCBieSBzY3JlZW4gcmVhZGVyc1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGZpbmQgaWYgdGhpcyBpcyBhIHVzZWZ1bCBhY2Nlc3NpYmlsaXR5IHNldHRpbmcsIG9yIHVzZWxlc3MvZGV0cmltZW50YWxcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRlc2NyaXB0aW9uXCIsIFwiVGV4dGFyZWEgd2l0aCBhbiBvdmVybGF5IHdlbGNvbWUgbWVzc2FnZSBmcm9tIHRoZSBTdGFjayBPdmVyZmxvdyArKyBleHRlbnNpb24uXCIgKyBcbiAgICAgICAgICAgICAgICBcIiBBbnkga2V5Ym9hcmQgb3IgbW91c2UgaW50ZXJhY3Rpb24gd2lsbCBwZXJtYW5lbnRseSBkaXNtaXNzIHRoaXMgb3ZlcmxheS4gT3ZlcmxheSBjb250YWlucyBhbiBpbWFnZSB3aXRoIHRleHQgdGhhdFwiICtcbiAgICAgICAgICAgICAgICBcIiB3ZWxjb21lcyB5b3UgdG8gdGhlIGV4dGVuc2lvbiwgaW5zdHJ1Y3RzIHlvdSB0aGF0IHRhYmJpbmcgd2lsbCBpbmRlbnQgb25lIG9yIG1vcmUgbGluZXMgYW5kIHNoaWZ0LXRhYmJpbmcgd2lsbCBkZS1pbmRlbnQsXCIgK1xuICAgICAgICAgICAgICAgIFwiIGFuZCBub3RlcyB0aGF0IHlvdSBjYW4gdXNlIHRoZSBleHRlbnNpb24ncyB0b29sYmFyIGFjdGlvbiB0byBjaGFuZ2UgdmFyaW91cyBzZXR0aW5ncyAoc3VjaCBhcyB0aGUgbnVtYmVyXCIgK1xuICAgICAgICAgICAgICAgIFwiIG9mIHNwYWNlcyBwZXIgdGFiKS4gSW50ZXJhY3QgdG8gZGlzbWlzcywgYW5kIEkgaG9wZSB5b3UgZW5qb3kgdGhlIGV4dGVuc2lvbiFcIilcblxuXG4gICAgICAgICAgICAgICAgLy8gZWFjaCBsaXN0ZW5lciB3aWxsIGZpcmUgb25jZSwgYW5kIHdoZW4gZmlyZWQgd2lsbCByZW1vdmUgdGhlIG90aGVyIGxpc3RuZXIgdGhhdCB3YXNuJ3QgZmlyZWRcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlT3ZlcmxheUNsaWNrLCB7b25jZTogdHJ1ZX0pXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlT3ZlcmxheUtleURvd24sIHtvbmNlOiB0cnVlfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoZXhpc3RpbmdTdGF0ZS50ZXh0QXJlYUJvcmRlckVuYWJsZWQgPz8gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRleHRBcmVhLmNsYXNzTGlzdC5hZGQoXCJzdGFjay1leGNoYW5nZS1pbmRlbmRhdGlvbi1wbHVzLXBsdXMtYm9yZGVyZWRcIilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuY2xhc3NMaXN0LnJlbW92ZShcInN0YWNrLWV4Y2hhbmdlLWluZGVuZGF0aW9uLXBsdXMtcGx1cy1ib3JkZXJlZFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBlbnJpY2hXaXRoSW5kZW50YXRpb24odGV4dEFyZWEpXG4gICAgICAgIH1cblxuICAgIH0pXG4gICAgXG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBhZGQgQ1NTIGluIG11bHRpcGxlIHBhc3Nlcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZVN0cmluZ1xuICovXG5mdW5jdGlvbiBhZGRTdHlsZShzdHlsZVN0cmluZzogc3RyaW5nKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVTdHJpbmc7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmQoc3R5bGUpO1xufVxuXG4vLyBpdCBzZWVtcyBsaWtlIGZvciBtYW5pZmVzdCAzLCB0aGUgYnVuZGxlciBhdXRvbWF0aWNhbGx5IGdldHMgdGhlIHVybCBvbiBgcmVxdWlyZWAsIGJ1dCBvbmx5IGdpdmVzIHRoZSBmaWxlIHBhdGggZm9yIG1hbmlmZXN0IDIuIFN0cmFuZ2UuXG5jb25zdCBjb21wYXRpYmxlR2V0VVJMID0gKHBhdGhPclVybDogc3RyaW5nKSA9PiB0eXBlb2YgYnJvd3NlciA9PT0gXCJ1bmRlZmluZWRcIiA/IHBhdGhPclVybCA6IGJyb3dzZXIucnVudGltZS5nZXRVUkwocGF0aE9yVXJsKVxuXG5jb25zdCB0ZXh0QXJlYU92ZXJsYXlVcmwgPSBjb21wYXRpYmxlR2V0VVJMKHJlcXVpcmUoXCIuLi9pbWFnZXMvdGV4dEFyZWFPdmVybGF5LnBuZ1wiKSlcbmNvbnN0IHRleHRBcmVhT3ZlcmxheUhvdmVyVXJsID0gY29tcGF0aWJsZUdldFVSTChyZXF1aXJlKFwiLi4vaW1hZ2VzL3RleHRBcmVhT3ZlcmxheUhvdmVyZWQucG5nXCIpKVxuXG4vLyB3ZSBuZWVkIHRvIGdldCB0aGUgaW1hZ2UgdXJsIGZyb20gdGhlIHJ1bnRpbWUsIHNvIHdlIGNhbid0IGRlZmluZSB0aGlzIGluIG91ciBjc3MgZmlsZVxuLy8gaW5zdGVhZCwgd2UganVzdCBpbmplY3QgaXQgaW50byB0aGUgaGVhZFxuLy8gd2UgYWRkIGJvdGggaW1hZ2VzIGluIHRoZSBiYWNrZ3JvdW5kLWltYWdlLCBidXQgdGhlIGxhdGVyIHdpbGwgYmUgaGlkZGVuIGJ5IHRoZSBncmFkaWVudFxuLy8gaG93ZXZlciwgdGhpcyBlbmZvcmNlcyBpdCBnZXRzIGxvYWRlZCwgc28gdGhhdCB3aGVuIHdlIGhvdmVyIGxhdGVyIHRoaXMgaXMgbm8gZGVsYXlcbmFkZFN0eWxlKGBcbiAgdGV4dGFyZWEuc3RhY2stb3ZlcmZsb3ctaW5kZW50YXRpb24tcGx1cy1wbHVzLXdlbGNvbWUtb3ZlcmxheSwgdGV4dGFyZWEuc3RhY2stb3ZlcmZsb3ctaW5kZW50YXRpb24tcGx1cy1wbHVzLXdlbGNvbWUtb3ZlcmxheTpmb2N1cyB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7dGV4dEFyZWFPdmVybGF5VXJsfSksIGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgI2E4YzBmZiwgIzNmMmI5NiksIHVybCgke3RleHRBcmVhT3ZlcmxheUhvdmVyVXJsfSk7XG4gICAgY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuICBcbiAgdGV4dGFyZWEuc3RhY2stb3ZlcmZsb3ctaW5kZW50YXRpb24tcGx1cy1wbHVzLXdlbGNvbWUtb3ZlcmxheTpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7dGV4dEFyZWFPdmVybGF5SG92ZXJVcmx9KSwgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjYThjMGZmLCAjM2YyYjk2KTtcbiAgfSBcbmApXG5cbi8vIFRPRE86IGNlbnRyYWxpemUgZGVmYXVsdHMgZm9yIGhlcmUgYW5kIHBvcHVwXG5sZXQgc3RvcmFnZVN0YXRlOiBTdG9yYWdlTW9kYWwgPSB7fVxuXG4vKipcbiAqIEdldCBpbml0YWwgc3RhdGVcbiAqIFxuICogYXBwbHkgYWxsIG1vZGlmaWNpYXRpb25zIHRvIHRoZSBkb20gKGhvb2sgaW50byB0ZXh0YXJlYXMgZm9yIGluZGVudGF0aW9uLCBhZGQgYm9yZGVyLCBwb3RlbnRpYWxseSBhZGQgb3ZlcmxheSwgb3IgcmVtb3ZlIGFueSBvZiB0aGVzZSlcbiAqIFxuICogbGlzdGVuIHRvIGFueSBjaGFuZ2VzIG9mIHN5bmMgc3RvcmFnZVxuICogICAgKiBhbmQgcmVhcHBseSBkb20gbW9kaWZpY2F0aW9uc1xuICogXG4gKiBvYnNlcnZlIG5ldyB0ZXh0IGFyZWFzIGFkZGVkXG4gKiAgICAqIGFuZCByZWFwcGx5IGRvbSBtb2RpZmljYXRpb25zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNldHVwKCkge1xuXG4gICAgY29uc3QgaW5pdGlhbFN0b3JhZ2VTdGF0ZSA9IGF3YWl0IHN0b3JhZ2Uuc3luYy5nZXQoKVxuICAgIHN0b3JhZ2VTdGF0ZSA9IGluaXRpYWxTdG9yYWdlU3RhdGVcblxuICAgIGFwcGx5RG9tTW9kaWZpY2F0aW9ucyhzdG9yYWdlU3RhdGUpXG5cbiAgICBzdG9yYWdlLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lcigoY2hhbmdlcywgYXJlYSkgPT4ge1xuXG4gICAgICAgIGlmKGFyZWEgIT09IFwic3luY1wiKSB7XG4gICAgICAgICAgICAvLyB3ZSBvbmx5IGNhcmUgYWJvdXQgc3luYyBzdGF0ZS4gc3RvcmFnZS5zeW5jLm9uQ2hhbmdlZCBkb2Vzbid0IGV4aXN0IGZvciB0aGUgXCJicm93c2VyXCIgb2JqZWN0XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgIFxuICAgICAgICBjb25zdCBhbGxDaGFuZ2VzOiBQYXJ0aWFsPFN0b3JhZ2VNb2RhbD4gPSB7fVxuICAgIFxuICAgICAgICBmb3IgKGNvbnN0IFtwcm9wZXJ0eSwgY2hhbmdlXSBvZiBPYmplY3QuZW50cmllcyhjaGFuZ2VzKSkge1xuICAgICAgICAgICAgYWxsQ2hhbmdlc1twcm9wZXJ0eSBhcyBrZXlvZiBTdG9yYWdlTW9kYWxdID0gKGNoYW5nZSBhcyBhbnkpLm5ld1ZhbHVlXG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgc3RvcmFnZVN0YXRlID0gKHsuLi5zdG9yYWdlU3RhdGUsIC4uLmFsbENoYW5nZXN9KVxuICAgICAgICBhcHBseURvbU1vZGlmaWNhdGlvbnMoc3RvcmFnZVN0YXRlKVxuICAgIH0pXG5cbiAgICAvLyBvYnNlcnZlIHRoZSBkb2N1bWVudCBkb2N1bWVudCBib2R5IGZvciBjaGFuZ2VzLiBXZSBjb3VsZCBwcm9iYWJseSBvYnNlcnZlIGEgc21hbGxlciBwb3J0aW9uIG9mIHRoZSBwYWdlLFxuICAgIC8vIGJ1dCB0aGlzIHdpbGwgY2F0Y2ggYWxsIGNoYW5nZXMgYW5kIFN0YWNrIE92ZXJmbG93IGlzbid0IGEgaGlnaGx5IGR5bmFtaWMgcGFnZSBzbyB0aGUgY29zdCBpcyBjaGVhcFxuICAgIGRvbU9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge2NoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZX0pO1xufVxuXG5zZXR1cCgpIiwiXG50eXBlIFJ1bnRpbWVNZXNzYWdlID0ge1xuICAgIHR5cGU6IFwic2V0X2FjdGl2ZVwiLFxuICAgIHRleHQ6IFwib25cIiB8IFwib2ZmXCJcbn1cblxuLy8gdXNlIGJyb3dzZXIgaWYgaXQgZXhpc3RzIChpbmRpY2F0aW5nIHdlJ3JlIHJ1bm5pbmcgaW4gbWFuaWZlc3QgdjIgaW4gZmlyZWZveCksIG90aGVyd2lzZSB1c2UgY2hyb21lIChmb3IgdjMpXG5leHBvcnQgY29uc3Qgc2VuZFR5cGVkTWVzc2FnZSA9IChtZXNzYWdlOiBSdW50aW1lTWVzc2FnZSkgPT4gXG4gICAgKHR5cGVvZiBicm93c2VyID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICA/IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKG1lc3NhZ2UpXG4gICAgICAgIDogYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKG1lc3NhZ2UpXG4gICAgICAgIFxuZXhwb3J0IGRlZmF1bHQgUnVudGltZU1lc3NhZ2UiLCIvKipcbiAqIFRoaXMgaXMgc291cmNlZCBmcm9tIGEgY29kZXBlbiAoaHR0cHM6Ly9jb2RlcGVuLmlvL01lQmVpTS9wZW4vb2dybUJQLykgYnkgTWFyY28gQm9uZWxsaSAoaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3VzZXJzLzM4ODk0NDkpXG4gKiBcbiAqIEkgZGlzY292ZXJlZCBpdCBpbiB0aGlzIG1ldGEgc3RhY2sgb3ZlcmZsb3cgcG9zdDogaHR0cHM6Ly9tZXRhLnN0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yOTAwMjYvbWFya2Rvd24tZWRpdG9yLWluZGVudC1hbmQtb3V0ZGVudC1mdW5jdGlvbmFsaXR5XG4gKiBcbiAqIEluIHRoYXQgcG9zdCwgTWFyY28gc3RhdGVzOlxuICogPiBJdCdzIGp1c3Qgc2l4dHkgbGluZXMgb2YgY29kZSBzbyBJIGRvbid0IHNlZSB0aGUgbmVlZCBvZiBhbnkgY29weXJpZ2h0L2xpY2Vuc2UvYXR0cmlidXRpb24sIFxuICogPiBJIGp1c3Qgd2FudGVkIHRvIHNoYXJlIGl0IHdpdGggbXkgZmVsbG93IHByb2dyYW1tZXJzIGhlcmUgb24gU3RhY2sgT3ZlcmZsb3cgOilcbiAqIFxuICogSW4gdGhhdCBzcGlyaXQsIHRoaXMgZmlsZSBpcyBvZmZpY2FsbHkgdW5saWNlbnNlZCwgdGhvdWdoIEkgaGF2ZSBtYWRlIHNvbWUgbW9kaWZpY2F0aW9ucyAodGhlIHJlc3Qgb2YgdGhpcyByZXBvIGlzIE1JVCBsaWNlbnNlZCkuXG4gKiBIb3dldmVyLCBpZiB5b3UgdXNlIGl0LCBwbGVhc2UgYXR0cmlidXRlIE1hcmNvLCBhbmQgb3B0aW9uYWxseSBtZSBpZiB5b3UgdXNlIHRoZSBtb2RpZmljYXRpb25zLlxuICogXG4gKiBUaGFua3MgTWFyY28hXG4gKi9cblxuaW1wb3J0IHsgSW50UmFuZ2UgfSBmcm9tIFwiLi9UeXBlSGVscGVyc1wiO1xuXG4vKioqKioqKioqKioqICBPcmlnaW5hbCBOb3RpY2UsIHNvbWUgYXNwZWN0cyBvdXRkYXRlZCAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBUaXRsZTogVGV4dGFyZWEgZGV2ZWxvcGVyIFRBQiBrZXkgKGJldGEpXG4gKiBBdXRob3I6IE1hcmNvIEJvbmVsbGkgKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS91c2Vycy8zODg5NDQ5KVxuICpcbiAqIERlc2NyaXB0aW9uOlxuICogICBFbmFibGVzIGV4dGVuZGVkIFRBQiBmdW5jdGlvbmFsaXR5IG9uIHRleHRhcmVhcyBvZiB0aGUgY3VycmVudCBwYWdlIGZvciBpbmRlbnRpbmcvZGVkZW50aW5nIHNpbmdsZS9tdWx0aXBsZSBsaW5lcy5cbiAqICAgVGhlIGRlZmF1bHQgaW5kZW50YXRpb24gaXMgNCBzcGFjZXMgKFwiICAgIFwiKTsgY2hhbmdlIHRoZSB2YXIgVEFCX0NIQVIgaWYgeW91IHdhbnQgdG8gdXNlIGFub3RoZXIgVEFCIGRlbGltaXRlci5cbiAqICAgT3JpZ2luYWxseSBkZXZlbG9wZWQgZm9yIFN0YWNrIE92ZXJmbG93IE1hcmtkb3duIGVkaXRvci5cbiAqXG4gKiBJbXBsZW1lbnRhdGlvbjpcbiAqICAgVXNlICdlbGVtZW50LmVuYWJsZVRleHRhcmVhRGV2KCknIHRvIGVuYWJsZSB0aGUgZmVhdHVyZSBmb3IgYWxsIHRoZSB0ZXh0YXJlYXMgaW5zaWRlIHRoZSBlbGVtZW50IChpbmNsdWRpbmcgdGhlIGVsZW1lbnQgaXRzZWxmKS5cbiAqICAgVXNlICdlbGVtZW50LmRpc2FibGVUZXh0YXJlYURldigpJyB0byBkaXNhYmxlIHRoZSBwcmV2aW91c2x5IGVuYWJsZWQgZmVhdHVyZS5cbiAqXG4gKiBVc2FnZTpcbiAqICAgU2luZ2xlIGxpbmU6IHBsYWNlIHRoZSBjdXJzb3Igd2hlcmUgeW91IHdhbnQgYW5kIHByZXNzIFtUQUJdIHRvIGFkZCBhIHRhYiBjaGFyYWN0ZXIsIG9yIFtTSElGVF0rW1RBQl0gdG8gcmVtb3ZlIGEgcHJldmlvdXNseSBpbnNlcnRlZCB0YWIgY2hhcmFjdGVyIChiZWZvcmUgdGhlIGNhcmV0IHBvc2l0aW9uKS5cbiAqICAgTXVsdGkgbGluZTogc2VsZWN0IG11bHRpcGxlIGxpbmVzIG9mIGNvZGUgYW5kIHByZXNzIFtUQUJdIHRvIGFkZCBhIHRhYiBjaGFyYWN0ZXIgYXQgdGhlIGJlZ2lubmluZyBvZiBlYWNoIGxpbmUsIG9yIFtTSElGVF0rW1RBQl0gdG8gcmVtb3ZlIHByZXZpb3VzbHkgaW5zZXJ0ZWQgdGFiIGNoYXJhY3RlcnMuXG4gKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0ZXh0YXJlYURldih0YWJMZW5ndGg6IEludFJhbmdlPDEsIDEyPikge1xuICAgIFxuICAgIC8vIHRvZG86IGNvbnNpZGVyIGNoZWNraW5nIGZvciBlLnRhcmdldC50YWdOYW1lID09ICdURVhUQVJFQScgKHdoaWNoIHVzZWQgdG8gYmUgdGhlcmUpLCBvciBhZGQgc3Ryb25nZXIgdHlwaW5nIHRvIGVcbiAgICByZXR1cm4gZnVuY3Rpb24gaW5uZXIodGhpczogSFRNTFRleHRBcmVhRWxlbWVudCwgZTogS2V5Ym9hcmRFdmVudCkge1xuXG4gICAgICAgIGxldCBUQUJfQ0hBUiA9ICcgJy5yZXBlYXQodGFiTGVuZ3RoKSxcbiAgICAgICAgICAgIHNlbGVjdGlvbkRlbHRhID0gMCwgLy8gbm90IHN1cmUgYWJvdXQgdGhlIG5hbWUgb2YgdGhpcywgd2FzIFwiZHNcIiBiZWZvcmVcbiAgICAgICAgICAgIHNlbGVjdGVkVGV4dDogc3RyaW5nLFxuICAgICAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IG51bWJlcixcbiAgICAgICAgICAgIHNlbGVjdGlvbkVuZDogbnVtYmVyLFxuICAgICAgICAgICAgYWxsVGV4dDogc3RyaW5nO1xuXG4gICAgICAgIGlmIChlLmtleSA9PT0gXCJUYWJcIikge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgICAgICAgc2VsZWN0aW9uRW5kID0gdGhpcy5zZWxlY3Rpb25FbmQ7XG4gICAgICAgICAgICBzZWxlY3RlZFRleHQgPSB0aGlzLnZhbHVlLnN1YnN0cmluZyhzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgICAgIGFsbFRleHQgPSB0aGlzLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAofnNlbGVjdGVkVGV4dC5pbmRleE9mKCdcXG4nKSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVGV4dCA9IHNlbGVjdGVkVGV4dC5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwuc3Vic3RyKDAsVEFCX0NIQVIubGVuZ3RoKSA9PSBUQUJfQ0hBUikgcmV0dXJuIGVsLnN1YnN0cig0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICAgICAgICAgICAgfSkuam9pbignXFxuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGFsbFRleHQuc3Vic3RyKDAsIHNlbGVjdGlvblN0YXJ0KSArIHNlbGVjdGVkVGV4dCArIGFsbFRleHQuc3Vic3RyKHNlbGVjdGlvbkVuZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRUZXh0ID0gc2VsZWN0ZWRUZXh0LnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24oZWwpIHsgcmV0dXJuIFRBQl9DSEFSICsgZWwgfSkuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBhbGxUZXh0LnN1YnN0cigwLCBzZWxlY3Rpb25TdGFydCkgKyBzZWxlY3RlZFRleHQgKyBhbGxUZXh0LnN1YnN0cihzZWxlY3Rpb25FbmQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBzZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHNlbGVjdGlvblN0YXJ0K3NlbGVjdGVkVGV4dC5sZW5ndGg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxUZXh0LnN1YnN0cihzZWxlY3Rpb25TdGFydC1UQUJfQ0hBUi5sZW5ndGgsIFRBQl9DSEFSLmxlbmd0aCkgPT0gVEFCX0NIQVIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBhbGxUZXh0LnN1YnN0cigwLCBzZWxlY3Rpb25TdGFydC1UQUJfQ0hBUi5sZW5ndGgpICsgYWxsVGV4dC5zdWJzdHIoc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRlbHRhID0gLVRBQl9DSEFSLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBhbGxUZXh0LnN1YnN0cigwLCBzZWxlY3Rpb25TdGFydCkgKyBUQUJfQ0hBUiArIGFsbFRleHQuc3Vic3RyKHNlbGVjdGlvbkVuZCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRlbHRhID0gVEFCX0NIQVIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSB0aGlzLnNlbGVjdGlvbkVuZCA9IHNlbGVjdGlvblN0YXJ0ICsgc2VsZWN0aW9uRGVsdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiJDQxYTI5YjUxMWQyZTVkYjckdmFyJGFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlc29sdmUiLCJyZWplY3QiLCJfbmV4dCIsIl90aHJvdyIsImtleSIsImFyZyIsImluZm8iLCJ2YWx1ZSIsImVycm9yIiwiZG9uZSIsIlByb21pc2UiLCJ0aGVuIiwiJDQxYTI5YjUxMWQyZTVkYjckZXhwb3J0JDJlMmJjZDg3MzlhZTAzOSIsImZuIiwic2VsZiIsInRoaXMiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJlcnIiLCJ1bmRlZmluZWQiLCIkMTU2N2NhMzZjM2Q4OTEzNyRleHBvcnQkMmUyYmNkODczOWFlMDM5Iiwib2JqIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCIkODA1YTA1ODY3ZWJhMmMwYyRleHBvcnQkMmUyYmNkODczOWFlMDM5IiwidGFyZ2V0IiwiaSIsImxlbmd0aCIsInNvdXJjZSIsIm93bktleXMiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiY29uY2F0IiwiZmlsdGVyIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZm9yRWFjaCIsIiRkMzFjOGU0MjQ1MjYyYjIzJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCIkNWYzNzdkYmY4N2UwODcwYyRleHBvcnQkMmUyYmNkODczOWFlMDM5IiwiaXRlciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZnJvbSIsIiRmNjg2ZjllZGUzYzc4YmUyJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkiLCJUeXBlRXJyb3IiLCIkMDBjZDI1OTI1N2E2MGU2YSRleHBvcnQkMmUyYmNkODczOWFlMDM5IiwibGVuIiwiYXJyMiIsIiQyODY2ODlkZDZkMDZjYjBmJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkiLCJvIiwibWluTGVuIiwibiIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwidGVzdCIsIiRmYzc5YTg3YmY5Y2I0M2MyJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkiLCIkMmY4ODBhNWIyY2Q1NTVkMSRleHBvcnQkNjUwM2VjNmU4YWFiYmFmIiwiJDJmODgwYTViMmNkNTU1ZDEkZXhwb3J0JGY3YWQwMzI4ODYxZTJmMDMiLCIkMmY4ODBhNWIyY2Q1NTVkMSR2YXIkbWFwcGluZyIsInBhaXJzIiwiaWQiLCJyZXNvbHZlZCIsIkVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsInBhcmNlbFJlcXVpcmUiLCJnZXRCdW5kbGVVUkwiLCIkZTFjYWNiODczMmFjOTAwNiRleHBvcnQkYmRmZDcwOWFlNDgyNjY5NyIsIiRlMWNhY2I4NzMyYWM5MDA2JHZhciRidW5kbGVVUkwiLCIkZTFjYWNiODczMmFjOTAwNiR2YXIkZ2V0QmFzZVVSTCIsInVybCIsInJlcGxhY2UiLCJtYXRjaGVzIiwic3RhY2siLCJtYXRjaCIsIiRlMWNhY2I4NzMyYWM5MDA2JHZhciRnZXRCdW5kbGVVUkwiLCJyZWdpc3RlciIsIkpTT04iLCJwYXJzZSIsInRoaXNBcmciLCJib2R5IiwieSIsInQiLCJnIiwidiIsInN0ZXAiLCJvcCIsIl8iLCJuZXh0IiwibGFiZWwiLCJvcHMiLCJwb3AiLCJ0cnlzIiwicHVzaCIsImUiLCJmIiwic2VudCIsInZlcmIiLCJ0aHJvdyIsInJldHVybiIsImNyZWF0ZSIsIiRlN2E0ZTc4Y2IzZTE1YTU5JGV4cG9ydCRjZWQ5YjFmNDI3NWQ3YjRmIiwiYnJvd3NlciIsImNocm9tZSIsInN0b3JhZ2UiLCIkMWZiYjAwOWNkMjA3MWVkMyR2YXIkY3VycmVudGx5RW5yaWNoZWQiLCJXZWFrTWFwIiwiJDFmYmIwMDljZDIwNzFlZDMkdmFyJHJlbW92ZUluZGVudGF0aW9uRW5yaWNobWVudCIsInRleHRBcmVhIiwicHJleGlzdGluZ0xpc3RlbmVyIiwiZ2V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlbGV0ZSIsIiQxZmJiMDA5Y2QyMDcxZWQzJHZhciRnZXRJbml0aWFsQXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZSIsInNwZWxsY2hlY2siLCIkMWZiYjAwOWNkMjA3MWVkMyR2YXIkdGV4dEFyZWFzIiwiTWFwIiwiJDFmYmIwMDljZDIwNzFlZDMkdmFyJHJlbW92ZU92ZXJsYXkiLCJyZW1vdmVQZXJtZW5hbnRseSIsIiQxZmJiMDA5Y2QyMDcxZWQzJHZhciRoYW5kbGVPdmVybGF5Q2xpY2siLCIkMWZiYjAwOWNkMjA3MWVkMyR2YXIkaGFuZGxlT3ZlcmxheUtleURvd24iLCJzeW5jIiwic2V0Iiwid2VsY29tZU1lc3NhZ2VEaXNtaXNzZWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJpbml0aWFsQXR0cmlidXRlcyIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImNvbnNvbGUiLCJ3YXJuIiwiJDFmYmIwMDljZDIwNzFlZDMkdmFyJHJlc3RvcmVJbml0aWFsQXR0cmlidXRlcyIsImV2ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHJlZXhpc3RpbmdUZXh0QXJlYSIsIiQxZmJiMDA5Y2QyMDcxZWQzJHZhciRkb21PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJtdXRhdGlvbiIsIm5vZGUiLCJub2RlVHlwZSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCIkMWZiYjAwOWNkMjA3MWVkMyR2YXIkbm9kZUlzRWxlbWVudCIsIm5ld1RleHRFbGVtZW50cyIsIm5ld1RleHRBcmVhIiwicGxhY2Vob2xkZXIiLCJjbG9zZXN0IiwiJDFmYmIwMDljZDIwNzFlZDMkdmFyJGFwcGx5RG9tTW9kaWZpY2F0aW9ucyIsIiQxZmJiMDA5Y2QyMDcxZWQzJHZhciRzdG9yYWdlU3RhdGUiLCJleGlzdGluZ1N0YXRlIiwibWVzc2FnZSIsInR5cGUiLCJ0ZXh0IiwiZnVuY3Rpb25hbGl0eURpc2FibGVkIiwicnVudGltZSIsInNlbmRNZXNzYWdlIiwiX3RleHRBcmVhQm9yZGVyRW5hYmxlZCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmNlIiwidGV4dEFyZWFCb3JkZXJFbmFibGVkIiwidGFiTGVuZ3RoIiwibGlzdGVuZXIiLCJudW1iZXJPZlNwYWNlc1BlclRhYiIsInNlbGVjdGVkVGV4dCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiYWxsVGV4dCIsIlRBQl9DSEFSIiwicmVwZWF0Iiwic2VsZWN0aW9uRGVsdGEiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJzaGlmdEtleSIsInNwbGl0IiwibWFwIiwiZWwiLCJzdWJzdHIiLCJqb2luIiwiJDFmYmIwMDljZDIwNzFlZDMkdmFyJGVucmljaFdpdGhJbmRlbnRhdGlvbiIsInN0eWxlU3RyaW5nIiwic3R5bGUiLCIkMWZiYjAwOWNkMjA3MWVkMyR2YXIkY29tcGF0aWJsZUdldFVSTCIsInBhdGhPclVybCIsImdldFVSTCIsIiQxZmJiMDA5Y2QyMDcxZWQzJHZhciR0ZXh0QXJlYU92ZXJsYXlVcmwiLCIkMWZiYjAwOWNkMjA3MWVkMyR2YXIkdGV4dEFyZWFPdmVybGF5SG92ZXJVcmwiLCJjcmVhdGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJoZWFkIiwiYXBwZW5kIiwiJDFmYmIwMDljZDIwNzFlZDMkdmFyJF9zZXR1cCIsImluaXRpYWxTdG9yYWdlU3RhdGUiLCJfc3RhdGUiLCJvbkNoYW5nZWQiLCJhZGRMaXN0ZW5lciIsImNoYW5nZXMiLCJhcmVhIiwiYWxsQ2hhbmdlcyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJlbnRyaWVzIiwiX3ZhbHVlIiwicHJvcGVydHkiLCJjaGFuZ2UiLCJuZXdWYWx1ZSIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiJDFmYmIwMDljZDIwNzFlZDMkdmFyJHNldHVwIl0sInZlcnNpb24iOjMsImZpbGUiOiJjb250ZW50X3NjcmlwdC5IQVNIX1JFRl9iOGM0YWI2OTUwODIyZmVkLmpzLm1hcCJ9
